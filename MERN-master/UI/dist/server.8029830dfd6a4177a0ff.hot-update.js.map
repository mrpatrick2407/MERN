{"version":3,"file":"server.8029830dfd6a4177a0ff.hot-update.js","mappings":";;;;;;;;;;;;;;;AAAA,MAAMA,OAAO,GAAG,IAAIC,MAAM,CAAC,6BAA6B,CAAC;AACzD,MAAMC,MAAM,GAACC,oDAAwB,CAAC,CAAC;AACvC,SAASE,eAAeA,CAACC,GAAG,EAACC,KAAK,EAAC;EAC/B,IAAGP,OAAO,CAACQ,IAAI,CAACD,KAAK,CAAC,EAAC;IACnB,OAAO,IAAIE,IAAI,CAACF,KAAK,CAAC;EAC1B;EACA,OAAOA,KAAK;AAChB;AACO,eAAeG,eAAeA,CAACC,KAAK,EAAEC,SAAS,GAAG,CAAC,CAAC,EAACC,SAAS,GAAC,IAAI,EAAE;EACxE,IAAI;IACA,MAAMC,GAAG,GAAEC,MAAa,GAAGC,CAAkC,GAAEA,OAAO,CAACC,GAAG,CAACC,sBAAsB;IACrG,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAEN,GAAG,EAAE;MAC/BO,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAkB,CAAC;MAC9CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEd,KAAK;QAAEC;MAAU,CAAC;IAC7C,CAAC,CAAC;IACF,MAAMW,IAAI,GAAG,MAAMJ,QAAQ,CAACO,IAAI,CAAC,CAAC;IAClC,MAAMC,MAAM,GAAGH,IAAI,CAACI,KAAK,CAACL,IAAI,EAAElB,eAAe,CAAC;IAEhD,IAAIsB,MAAM,CAACE,MAAM,EAAE;MACf,MAAMC,KAAK,GAAGH,MAAM,CAACE,MAAM,CAAC,CAAC,CAAC;MAC9B,IAAIC,KAAK,CAACC,UAAU,CAACC,IAAI,IAAI,gBAAgB,EAAE;QAC/C,MAAMC,OAAO,GAAGH,KAAK,CAACC,UAAU,CAACG,SAAS,CAACL,MAAM,CAACM,IAAI,CAAC,KAAK,CAAC;QAC7D,IAAItB,SAAS,EAAEA,SAAS,CAAE,GAAEiB,KAAK,CAACM,OAAQ,OAAMH,OAAQ,EAAC,CAAC;MAC1D,CAAC,MAAM;QACHpB,SAAS,CAAE,GAAEiB,KAAK,CAACC,UAAU,CAACC,IAAK,KAAIF,KAAK,CAACM,OAAQ,EAAC,CAAC;MAC3D;IACJ;IACA,OAAOT,MAAM,CAACU,IAAI;EAClB,CAAC,CAAC,OAAOC,CAAC,EAAE;IACR,IAAIzB,SAAS,EAAEA,SAAS,CAAE,oCAAmCyB,CAAC,CAACF,OAAQ,EAAC,CAAC;EAC7E;AACJ;;;;;;;;;UChCA","sources":["webpack://por-mern0stack2-api/./src/graphqlendppoint.js","webpack://por-mern0stack2-api/webpack/runtime/getFullHash"],"sourcesContent":["const datereg = new RegExp('^\\\\d\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d');\r\nconst dotenv=require('dotenv').config()\r\nfunction jsondatereviver(key,value){\r\n    if(datereg.test(value)){\r\n        return new Date(value);\r\n    }\r\n    return value\r\n}\r\nexport async function graphqlendpoint(query, variables = {},showError=null) {\r\n    try {\r\n        const api=(__isBrowser__)? process.env.UI_SERVER_API_ENDPOINT: process.env.UI_SERVER_API_ENDPOINT;\r\n    const response = await fetch( api, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json'},\r\n        body: JSON.stringify({ query, variables })\r\n    });\r\n    const body = await response.text();\r\n    const result = JSON.parse(body, jsondatereviver);\r\n\r\n    if (result.errors) {\r\n        const error = result.errors[0];\r\n        if (error.extensions.code == 'BAD_USER_INPUT') {\r\n        const details = error.extensions.exception.errors.join('\\n ');\r\n        if (showError) showError(`${error.message}:\\n ${details}`);\r\n        } else {\r\n            showError(`${error.extensions.code}: ${error.message}`);\r\n        }\r\n    }\r\n    return result.data;\r\n    } catch (e) {\r\n        if (showError) showError(`Error in sending data to server: ${e.message}`);\r\n    }\r\n}","__webpack_require__.h = () => (\"a7fd8ec10ac1c7f49a5d\")"],"names":["datereg","RegExp","dotenv","require","config","jsondatereviver","key","value","test","Date","graphqlendpoint","query","variables","showError","api","__isBrowser__","process","env","UI_SERVER_API_ENDPOINT","response","fetch","method","headers","body","JSON","stringify","text","result","parse","errors","error","extensions","code","details","exception","join","message","data","e"],"sourceRoot":""}