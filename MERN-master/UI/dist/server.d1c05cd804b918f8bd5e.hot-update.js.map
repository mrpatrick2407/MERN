{"version":3,"file":"server.d1c05cd804b918f8bd5e.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAwB;AACM;AACY;AACR;AACN;AAI5B,MAAMK,GAAG,GAAGJ,8CAAO,CAAC,CAAC;AAErBG,oDAAa,CAAC,CAAC;AACf,MAAMG,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI;AAE7B,IAAG,IAAI,EAAC;EACJ,MAAMC,OAAO,GAAGC,mBAAO,CAAC,wBAAS,CAAC;EAClC,MAAMC,aAAa,GAAGD,mBAAO,CAAC,sDAAwB,CAAC;EACvD,MAAME,aAAa,GAAGF,mBAAO,CAAC,sDAAwB,CAAC;EACvD,MAAMN,MAAM,GAAGM,mEAA8B;EACjDN,MAAM,CAACS,KAAK,CAACV,GAAG,CAACW,IAAI,CAAC,+BAA+B,CAAC;EACtDV,MAAM,CAACW,OAAO,GAAGX,MAAM,CAACW,OAAO,IAAI,EAAE;EACrCX,MAAM,CAACW,OAAO,CAACD,IAAI,CAAC,IAAIL,OAAO,CAACO,0BAA0B,CAAC,CAAC,CAAC;EAE7D,MAAMC,QAAQ,GAAGR,OAAO,CAACL,MAAM,CAAC;EAC/BD,GAAG,CAACe,GAAG,CAACP,aAAa,CAACM,QAAQ,CAAC,CAAC;EAC/Bd,GAAG,CAACe,GAAG,CAACN,aAAa,CAACK,QAAQ,CAAC,CAAC;AAClC;AAEA,IAAI,CAACX,OAAO,CAACC,GAAG,CAACY,eAAe,EAAE;EAChCb,OAAO,CAACC,GAAG,CAACY,eAAe,GAAG,+BAA+B;EAC7DC,OAAO,CAACC,GAAG,CAAC,WAAW,GAACf,OAAO,CAACC,GAAG,CAACe,sBAAsB,GAAEhB,OAAO,CAACC,GAAG,CAACY,eAAe,CAAC;AAC1F;AAEA,IAAI,CAACb,OAAO,CAACC,GAAG,CAACe,sBAAsB,EAAE;EACvChB,OAAO,CAACC,GAAG,CAACe,sBAAsB,GAAGhB,OAAO,CAACC,GAAG,CAACY,eAAe;AAClE;AAEAhB,GAAG,CAACoB,GAAG,CAAC,SAAS,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC/B,MAAMlB,GAAG,GAAG;IAAEY,eAAe,EAAEb,OAAO,CAACC,GAAG,CAACY;EAAgB,CAAC;EAC5DM,GAAG,CAACC,IAAI,CAAE,gBAAeC,IAAI,CAACC,SAAS,CAACrB,GAAG,CAAE,EAAC,CAAC;AACjD,CAAC,CAAC;AACFJ,GAAG,CAACe,GAAG,CAACnB,wDAAc,CAAC,KAAK,CAAC,CAAC;AAC9BI,GAAG,CAACoB,GAAG,CAAC,QAAQ,EAAC,CAACC,GAAG,EAACC,GAAG,EAACK,IAAI,KAAG;EAC/B7B,uDAAM,CAACuB,GAAG,EAACC,GAAG,EAACK,IAAI,CAAC;AACtB,CAAC,CAAC;AACF3B,GAAG,CAACe,GAAG,CAAC,UAAU,EAAElB,4DAAK,CAAC;EAAE+B,MAAM,EAAE;AAAwB,CAAC,CAAC,CAAC;AAC/D5B,GAAG,CAACoB,GAAG,CAAC,GAAG,EAAE,CAACC,GAAG,EAAEC,GAAG,KAAK;EACzB,MAAMO,SAAS,GAAGlC,gDAAS,CAACoC,SAAS,EAAE,QAAQ,EAAE,YAAY,CAAC;EAC9DT,GAAG,CAACU,QAAQ,CAACH,SAAS,CAAC;AACzB,CAAC,CAAC;AACF7B,GAAG,CAACiC,MAAM,CAAC/B,IAAI,EAAE,MAAM;EAAEe,OAAO,CAACC,GAAG,CAAE,oBAAmBhB,IAAK,EAAC,CAAC;AAAE,CAAC,CAAC;AACpE,IAAGgC,UAAU,CAACE,MAAM,EAAC;EACnBF,iBAAiB,CAAC,yCAAc;AAAA,GAAC;AACnC;;;;;;;;;UCpDA","sources":["webpack://por-mern0stack2-api/./server/uiserver.js","webpack://por-mern0stack2-api/webpack/runtime/getFullHash"],"sourcesContent":["import path from \"path\";\nimport express from \"express\";\nimport proxy from \"http-proxy-middleware\";\nimport render from \"./render.jsx\";\nimport dotenv from 'dotenv';\n\n \n\nconst app = express();\n\ndotenv.config();\nconst port = process.env.PORT;\n\nif(true){\n    const webpack = require('webpack');\n    const devMiddleware = require('webpack-dev-middleware');\n    const hotMiddleware = require('webpack-hot-middleware');\n    const config = require('../web.config.js')[0];\nconfig.entry.app.push('webpack-hot-middleware/client');\nconfig.plugins = config.plugins || [];\nconfig.plugins.push(new webpack.HotModuleReplacementPlugin());\n   \nconst compiler = webpack(config);\n app.use(devMiddleware(compiler));\n  app.use(hotMiddleware(compiler));\n}\n\nif (!process.env.UI_API_ENDPOINT) {\n  process.env.UI_API_ENDPOINT = 'http://localhost:3000/graphql';\n  console.log(\"process  \"+process.env.UI_SERVER_API_ENDPOINT +process.env.UI_API_ENDPOINT)\n}\n\nif (!process.env.UI_SERVER_API_ENDPOINT) {\n  process.env.UI_SERVER_API_ENDPOINT = process.env.UI_API_ENDPOINT;\n}\n\napp.get('/env.js', (req, res) => {\n  const env = { UI_API_ENDPOINT: process.env.UI_API_ENDPOINT };\n  res.send(`window.ENV = ${JSON.stringify(env)}`);\n});\napp.use(express.static('src'));\napp.get(\"/about\",(req,res,next)=>{\n  render(req,res,next)\n});\napp.use('/graphql', proxy({ target: 'http://localhost:3000' }));\napp.get('*', (req, res) => {\n  const indexPath = path.join(__dirname, '../src', 'index.html');\n  res.sendFile(indexPath);\n});\napp.listen(port, () => { console.log(`Listening onport ${port}`); });\nif(module.hot.accept){\n  module.hot.accept('./render.jsx')\n}","__webpack_require__.h = () => (\"89692495537bb82d9aee\")"],"names":["path","express","proxy","render","dotenv","app","config","port","process","env","PORT","webpack","require","devMiddleware","hotMiddleware","entry","push","plugins","HotModuleReplacementPlugin","compiler","use","UI_API_ENDPOINT","console","log","UI_SERVER_API_ENDPOINT","get","req","res","send","JSON","stringify","static","next","target","indexPath","join","__dirname","sendFile","listen","module","hot","accept"],"sourceRoot":""}