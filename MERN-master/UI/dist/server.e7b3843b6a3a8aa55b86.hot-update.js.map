{"version":3,"file":"server.e7b3843b6a3a8aa55b86.hot-update.js","mappings":"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","sources":["webpack://por-mern0stack2-api/./src/IssueReport.jsx","webpack://por-mern0stack2-api/webpack/runtime/getFullHash"],"sourcesContent":["import React from 'react';\r\nimport { Card, Table } from 'react-bootstrap';\r\nimport IssueFilter from './IssueFilter.jsx';\r\nimport URLSearchParams from 'url-search-params';\r\nimport { graphqlendpoint } from './graphqlendppoint.js';\r\nexport default class IssueReport extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={stats:''}\r\n        this.loaddata=this.loaddata.bind(this);\r\n    }\r\n    componentDidMount(){\r\n        this.loaddata();\r\n    }\r\n   \r\n    componentDidUpdate(){\r\n        if(prevProps.location.search!==this.props.location.search){\r\n            this.loaddata();\r\n        }\r\n    }\r\n    \r\n    async loaddata(){\r\n        const vars={};\r\n       const {location:{search:prevsearch}}=this.props;\r\n       const params =new URLSearchParams(prevsearch);\r\n        vars.status= params.get('status');\r\n        vars.effortmin=params.get('effortmin');\r\n        vars.effortmax=params.get('effortmax');\r\n        const query=`query IssueCount( $status: statustype, $effortmin: Int, $effortmax: Int) {\r\n            issueCount( status: $status, effortmin: $effortmin, effortmax: $effortmax) {\r\n              Assigned\r\n              Closed\r\n              Fixed\r\n              New\r\n              owner\r\n            }\r\n          }`;\r\n\r\n          const data=await graphqlendpoint(query,vars);\r\n          if(data){\r\n            this.setState({stats:data.issueCount});\r\n          }\r\n          else{\r\n            this.setState({stats:''});\r\n          }\r\n    \r\n    }\r\n    \r\n    render(){\r\n        const statuses=[\"New\",\"Assigned\",\"Fixed\",\"Closed\"]\r\n        const counts=this.state.stats;\r\n        if(!counts){\r\n           return null;\r\n        }\r\n        const headercolumns=(\r\n            statuses.map(status=>{<th key={status}>{status}</th>})\r\n        )\r\n        const reportrows=(\r\n            counts.map(count=>{\r\n                <tr key={count.owner}>\r\n                    <td>{count.owner}</td>\r\n                    {statuses.map(status=>{\r\n                        <td key={status}>{count[status]}</td>\r\n                        }   \r\n                    )}\r\n                </tr>\r\n            })\r\n        )\r\n        return(\r\n            <>\r\n             <Card >\r\n                    <Card.Title>Filter</Card.Title>\r\n                    <Card.Body >\r\n                <IssueFilter urlbase=\"/report\"/>\r\n                    </Card.Body>\r\n                </Card>\r\n                <Table striped bordered hover responsive={sm}>\r\n                    <thead>\r\n                        {headercolumns}\r\n                    </thead>\r\n                    <tbody>\r\n                        {reportrows}\r\n                    </tbody>\r\n                </Table>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","__webpack_require__.h = () => (\"b7ba514d4d4cf1a0ee3c\")"],"names":["React","Card","Table","IssueFilter","URLSearchParams","graphqlendpoint","IssueReport","Component","constructor","props","state","stats","loaddata","bind","componentDidMount","componentDidUpdate","prevProps","location","search","vars","prevsearch","params","status","get","effortmin","effortmax","query","data","setState","issueCount","render","statuses","counts","headercolumns","map","createElement","key","reportrows","count","owner","Fragment","Title","Body","urlbase","striped","bordered","hover","responsive","sm"],"sourceRoot":""}