{"version":3,"file":"server.f65c5e093c48d37986e5.hot-update.js","mappings":"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","sources":["webpack://por-mern0stack2-api/./src/IssueReport.jsx","webpack://por-mern0stack2-api/webpack/runtime/getFullHash"],"sourcesContent":["import React from 'react';\r\nimport { Card, Table } from 'react-bootstrap';\r\nimport IssueFilter from './IssueFilter.jsx';\r\nimport URLSearchParams from 'url-search-params';\r\nimport { graphqlendpoint } from './graphqlendppoint.js';\r\nexport default class IssueReport extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={stats:''}\r\n        this.loaddata=this.loaddata.bind(this);\r\n    }\r\n    componentDidMount(){\r\n        this.loaddata();\r\n    }\r\n   \r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.location.search!==this.props.location.search){\r\n            this.loaddata();\r\n        }\r\n    }\r\n    \r\n    async loaddata(){\r\n        const {location:{search}}=this.props;\r\n        const params=new URLSearchParams(search);\r\n        const vars={}\r\n        if(params.get('status')){\r\n            vars.status=params.get('status')\r\n        }\r\n        if(params.get('effortmin')){vars.effortmin=parseInt(params.get('effortmin'))}\r\n        if(params.get('effortmax')){vars.effortmax=parseInt(params.get('effortmax'))}\r\n        const query=`query IssueCount( $status: statustype, $effortmin: Int, $effortmax: Int) {\r\n            issueCount( status: $status, effortmin: $effortmin, effortmax: $effortmax) {\r\n              Assigned\r\n              Closed\r\n              Fixed\r\n              New\r\n              owner\r\n            }\r\n          }`;\r\n\r\n          const data=await graphqlendpoint(query,vars);\r\n          console.log(data);\r\n          if(data){\r\n            \r\n            this.setState({stats:data.issueCount});\r\n          }\r\n          else{\r\n            this.setState({stats:''});\r\n          }\r\n    \r\n    }\r\n    \r\n    render(){\r\n        const statuses=[\"New\",\"Assigned\",\"Fixed\",\"Closed\"]\r\n        const counts=this.state.stats;\r\n        \r\n        const headercolumns=(\r\n            statuses.map(status=>{<th key={status}>{status}</th>})\r\n        )\r\n        const reportrows=(\r\n            counts.map(count=>{\r\n                <tr key={count.owner}>\r\n                    <td>{count.owner}</td>\r\n                    {statuses.map(status=>{\r\n                        <td key={status}>{count[status]}</td>\r\n                        }   \r\n                    )}\r\n                </tr>\r\n            })\r\n        )\r\n        return(\r\n            <>\r\n             <Card >\r\n                    <Card.Title>Filter</Card.Title>\r\n                    <Card.Body >\r\n                <IssueFilter urlbase=\"/report\"/>\r\n                    </Card.Body>\r\n             </Card>\r\n                <Table striped bordered hover responsive=\"sm\">\r\n                    <thead>\r\n                        {headercolumns}\r\n                        <th>hi</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        {reportrows}\r\n                    </tbody>\r\n                </Table>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","__webpack_require__.h = () => (\"1196b86c473d87933fc6\")"],"names":["React","Card","Table","IssueFilter","URLSearchParams","graphqlendpoint","IssueReport","Component","constructor","props","state","stats","loaddata","bind","componentDidMount","componentDidUpdate","prevProps","location","search","params","vars","get","status","effortmin","parseInt","effortmax","query","data","console","log","setState","issueCount","render","statuses","counts","headercolumns","map","createElement","key","reportrows","count","owner","Fragment","Title","Body","urlbase","striped","bordered","hover","responsive"],"sourceRoot":""}